<ion-card>
  <ion-card-content class="ion-text-center">

    <ion-row class="ion-align-items-center">
      <ion-col size="4" class="ion-text-center">
        <img src="/assets/perfil/2.jpg" alt="Foto" class="img-clasificacion" />
      </ion-col>
      <ion-col size="8" class="ion-text-center">
        <h1 style="margin: 0;">
          <strong style="color: black;">CLASIFICACIÓN DE LA LIGA CORPORAL</strong>
        </h1>
        <h2 style="margin-top: 8px;">
          Semana {{ semanaActual }}, Año {{ anoActual }}
          <i class="bi bi-trophy-fill"></i>
        </h2>
      </ion-col>
    </ion-row>

    <!-- Paginación arriba -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin: 10px 0;">
      <button (click)="paginaAnterior()" [disabled]="paginaActual === 1" class="btn-pag">
        &laquo; Anterior
      </button>
      <span>Página {{ paginaActual }}</span>
      <button (click)="paginaSiguiente()" class="btn-pag">
        Siguiente &raquo;
      </button>
    </div>

    <!-- Mensaje cuando no hay datos -->
    <div *ngIf="mensaje" style="color: gray; font-style: italic; margin-bottom: 10px;">
      {{ mensaje }}
    </div>

    <!-- Contenedor con scroll horizontal -->
    <div style="display: flex; overflow-x: auto; white-space: nowrap; padding: 10px 0;">
      <table style="width: 100%; border-collapse: collapse">
        <thead>
          <tr>
            <th style="padding: 10px; text-align: left">#</th>
            <th style="padding: 10px; text-align: left">Foto</th>
            <th style="padding: 10px; text-align: left">Nombre</th>
            <th style="padding: 10px; text-align: left">Peso Actual ({{ clasificacion[0]?.unidad || 'kg' }})</th>
            <th style="padding: 10px; text-align: left">Peso Ideal ({{ clasificacion[0]?.unidad || 'kg' }})</th>
            <th style="padding: 10px; text-align: left">Logro Semanal</th>
            <th style="padding: 10px; text-align: left">Verificador</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let participante of clasificacion; let i = index">
            <td style="padding: 10px">{{ participante.posicion || (i + 1) }}</td>
            <td style="padding: 10px">
              <ion-img
                [src]="
                  participante.participante?.img | imagenPerfil : 'usuarios'
                "
                class="img-avatar"
                style="width: 40px; height: 40px; border-radius: 50%"
              ></ion-img>
            </td>
            <td style="padding: 10px">{{ participante.participante?.nombre || 'Sin nombre' }}</td>
            <td style="padding: 10px">{{ participante.pesoActual || 0 }}</td>
            <td style="padding: 10px">{{ participante.participante?.pesoIdeal || 0 }}</td>
            <td style="padding: 10px">
 {{
    participante.diferencia !== null
      ? (participante.diferencia > 0
        ? 'Bajar ' + participante.diferencia.toFixed(2) + ' ' + (participante.unidad || 'kg')
        : participante.diferencia < 0
          ? 'Subir ' + abs(participante.diferencia).toFixed(2) + ' ' + (participante.unidad || 'kg')
          : 'Mantener peso')
      : 'Sin datos'
  }}
            </td>
            <td style="padding: 10px">
              <img
                [src]="
                  participante.participante?.imgVerificadorLc | imagen2 : 'usuarios'"                style="width: 40px; height: 40px; border-radius: 50%"
                alt="Verificador"
                imagen2
              />
            </td>
          </tr>
        </tbody>
      </table>
    </div>



  </ion-card-content>
</ion-card>
